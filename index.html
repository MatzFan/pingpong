<!DOCTYPE html>
<html lang='en'>
  <head>
  <meta charset="utf-8">
    <link rel='stylesheet' href='css/application.css' type="text/css">
  </head>
  <body>
    <title>Ping pong game!</title>
    <table class='game scoreboard'>
    <caption>Game Score</caption>
      <tr class='player1' data-player=1>
        <td class='name'>None<td class='score'>0</td></td>
        <td><button class='scorer'>Won point</button></td>
      </tr>
      <tr class='player2' data-player=2>
        <td class='name'>None<td class='score'>0</td></td>
        <td><button class='scorer'>Won point</button></td>
      </tr>
    </table>
    <br>
    <table class='match scoreboard'>
    <caption>Match Score</caption>
      <tr class='name'><th class='player1'>None</th><th class='player2'>None</th></tr>
      <tr class='score'><td class='player1'>0</td><td class='player2'>0</td></tr>
    </table>

    <script src='src/Player.js'></script>
    <script src='src/Game.js'></script>
    <script src='https://code.jquery.com/jquery-2.0.3.min.js'></script>

    <script>

      var players = {1: new Player('Bruce'), 2: new Player('Simon')}
      var game = new Game(players[1], players[2]);

      function updateGameScores() {
        $('.game .player1 .score').text(players[1].score);
        $('.game .player2 .score').text(players[2].score);
      }

      function updateMatchScores() {
        $('.match .score .player1').text(players[1].gamesWon);
        $('.match .score .player2').text(players[2].gamesWon);
      }

      $(function() {
        $('.player1 .name, .name .player1').text(players[1].name);
        $('.player2 .name, .name .player2').text(players[2].name);

        $('.game.scoreboard button').on('click', function() {
          num = $(this).parent().parent().data('player')
          players[num].scorePoint();
          updateGameScores();
          updateMatchScores();
        });
      });
    </script>
  </body>
</html>
